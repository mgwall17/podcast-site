export const episodesData = [
  {
    id: 1,
    title: "Psycho",
    slug: "psycho",
    image: "/psycho.jpg",
    movieYear: "1960",
    director: "Alfred Hitchcock",
    summary: "A secretary embezzles money and checks into a secluded motel run by the mysterious Norman Bates. The narrative takes a shocking turn with the infamous shower scene, leading to a psychological thriller that explores the depths of madness and the unsettling consequences of fractured identities.",
    isPublished: true,
    publishDate: "2024-03-10",
    publishDateFormatted: "March 10, 2024",
    guest: "Steven delights us with little known facts and music score commentary and discusses the cultural impact this unique plot has on future cinema.",
    spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/43QInMgkNWqW8eElYPeXyJ?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Psychological", "Classic"],
    scareLevel: 4,
    triggerWarnings: ["Violence", "Murder", "Psychological Distress"],
    duration: "45 minutes",
    episodeNumber: 1,
    season: 1
  },
  {
    id: 2,
    title: "The Thing",
    slug: "the-thing",
    image: "/Thing.jpg",
    movieYear: "1982",
    director: "John Carpenter",
    summary: "A group of researchers in Antarctica discover an extraterrestrial organism that assimilates and imitates other life forms, creating an atmosphere of paranoia and fear as they struggle to determine who among them has been taken over by the shape-shifting entity. As trust erodes and survival becomes uncertain, the film unfolds as a suspenseful and chilling exploration of isolation and the terrifying unknown.",
    isPublished: true,
    publishDate: "2024-04-15",
    publishDateFormatted: "April 2024",
    guest: "George reveals how this movie changed his life, how incredible the effects stand the test of time and discusses one the most ambiguous endings in horror history.",
    spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/6KzCC6Bru6d9jUsmFpM9Iq?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Body Horror", "Sci-Fi"],
    scareLevel: 5,
    triggerWarnings: ["Body Horror", "Gore", "Paranoia"],
    duration: "50 minutes",
    episodeNumber: 2,
    season: 1
  },
  {
    id: 3,
    title: "Hellraiser",
    slug: "hellraiser",
    image: "/Hellraiser.jpg",
    movieYear: "1987",
    director: "Clive Barker",
    summary: "A man unlocks a mysterious puzzle box, inadvertently summoning sadomasochistic creatures known as Cenobites. As the boundaries between pleasure and pain blur, he becomes entangled in a nightmarish dimension, confronting his own desires and the macabre consequences of meddling with forbidden forces.",
    isPublished: false,
    publishDate: "2024-06-15",
    publishDateFormatted: "June 2024",
    guest: "Mariah tells us about how Hellraiser awed her with practical effects, introduced her to body horror, and how it explores the limits of pleasure and pain with its characters.",
    genres: ["Body Horror", "Supernatural"],
    scareLevel: 5,
    triggerWarnings: ["Extreme Violence", "Body Horror", "Sexual Content"],
    duration: "48 minutes",
    episodeNumber: 3,
    season: 1
  },
  {
    id: 4,
    title: "Halloween",
    slug: "halloween",
    image: "/Halloween.jpeg",
    movieYear: "1978",
    director: "John Carpenter",
    summary: "A masked killer named Michael Myers escapes from a mental institution and returns to his hometown on Halloween night. As he terrorizes babysitter Laurie Strode, the film unfolds as a suspenseful and iconic slasher, setting the standard for the genre and introducing audiences to the haunting figure of Michael Myers.",
    isPublished: false,
    publishDate: "2025-10-31",
    publishDateFormatted: "October 2025",
    guest: "Mario discusses this masterclass of Slasher and how Michael Myers continues to stalk his mind to this day.",
    genres: ["Classic", "Supernatural"],
    scareLevel: 4,
    triggerWarnings: ["Violence", "Stalking", "Murder"],
    duration: "52 minutes",
    episodeNumber: 4,
    season: 1
  },
  {
    id: 5,
    title: "The Autopsy of Jane Doe",
    slug: "autopsy-jane-doe",
    image: "/JaneDoe.jpg",
    movieYear: "2016",
    director: "André Øvredal",
    summary: "A father-son coroner duo receives an unidentified female corpse for examination. As they delve into the autopsy, they uncover increasingly disturbing and supernatural secrets, leading to a night of terror within the confines of their mortuary.",
    isPublished: false,
    publishDate: "2025-12-15",
    publishDateFormatted: "December 2025",
    guest: "Susan and Mike discuss with me how surprising this movie was for them and the unique set-up and excellent use of mystery they observed in this film.",
    genres: ["Supernatural", "Psychological"],
    scareLevel: 4,
    triggerWarnings: ["Gore", "Body Horror", "Supernatural Elements"],
    duration: "46 minutes",
    episodeNumber: 5,
    season: 1
  },
  {
    id: 6,
    title: "The Thing Part 2",
    slug: "the-thing",
    image: "/Thing.jpg",
    movieYear: "1982",
    director: "John Carpenter",
    summary: "A group of researchers in Antarctica discover an extraterrestrial organism that assimilates and imitates other life forms, creating an atmosphere of paranoia and fear as they struggle to determine who among them has been taken over by the shape-shifting entity. As trust erodes and survival becomes uncertain, the film unfolds as a suspenseful and chilling exploration of isolation and the terrifying unknown.",
    isPublished: true,
    publishDate: "2025-04-15",
    publishDateFormatted: "April 2025",
    guest: "George continues the conversation in Part 2",
    spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/1iTAtpec5HODMboWwOn7Kz?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Body Horror", "Sci-Fi"],
    scareLevel: 5,
    triggerWarnings: ["Body Horror", "Gore", "Paranoia"],
    duration: "50 minutes",
    episodeNumber: 0,
    season: 0
  },
  {
    id: 7,
    title: "28 Years Later",
    slug: "28-years-later",
    image: "/28years.jpg", 
    movieYear: "2025",
    director: "Danny Boyle",
    summary: "Set almost three decades after the Rage virus escaped a biological weapons laboratory, '28 Years Later' explores a world still ruthlessly quarantined. A group of survivors living on a secluded island venture into the mainland, discovering mutated infected individuals and new, dangerous forms of human society. It's a terrifying new chapter in the post-apocalyptic saga, exploring themes of survival, human nature, and the psychological impact of a world forever scarred.",
    isPublished: false,
    publishDate: "2025-08-20",
    publishDateFormatted: "August 2025",
    guest: "Mariah discusses how '28 Years Later' profoundly explores themes of death and grief in a post-apocalyptic world, examining the characters' struggles with loss and the emotional toll of survival.",
    // spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/1iTAtpec5HODMboWwOn7Kz?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Sci-Fi", "Psychological"],
    scareLevel: 5,
    triggerWarnings: ["Gore", "Violence", "Pandemic", "Body Horror (Rage Virus effects)"],
    duration: "126 minutes",
    episodeNumber: 0,
    season: 0
  },
  {
    id: 8,
    title: "28 Days Later",
    slug: "28-days-later",
    image: "/28days.jpg", 
    movieYear: "2002",
    director: "Danny Boyle",
    summary: "After a mysterious, highly contagious virus known as 'Rage' is unleashed, turning infected individuals into hyper-aggressive, bloodthirsty creatures, a small group of survivors navigates a desolate, post-apocalyptic London. The film explores the breakdown of society, the nature of humanity under extreme duress, and the constant threat of both the infected and other desperate survivors.",
    isPublished: false,
    publishDate: "2025-09-31",
    publishDateFormatted: "Septeber 2025",
    guest: "Mariah discusses how '28 Days Later' profoundly explores themes of violence, the psyche and who we really are when the chips are down.",
    spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/1iTAtpec5HODMboWwOn7Kz?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Sci-Fi", "Psychological"],
    scareLevel: 5,
    triggerWarnings: ["Gore", "Violence", "Pandemic", "Body Horror (Rage Virus effects)"],
    duration: "113 minutes",
    episodeNumber: 0,
    season: 0
  },
  {
    id: 9,
    title: "Sinners",
    slug: "sinners",
    image: "/sinners.jpg",
    movieYear: "2025",
    director: "Ryan Coogler", 
    summary: "Sinners is a Southern Gothic horror film that follows twin brothers, former gangsters, who return to their 1932 Mississippi Delta hometown to open a juke joint. Their plans are disrupted by the arrival of an Irish vampire and his thralls, leading to a brutal fight for survival that explores themes of family, music, and racism in the Jim Crow South.",
    isPublished: false, 
    publishDate: "2025-10-15",
    publishDateFormatted: "October 2025",
    guest: "Gordon discusses the film's controversial themes, its stunning visual effects, and how it challenges contemporary ideas about faith and society.",
    spotifyEmbed: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/1iTAtpec5HODMboWwOn7Kz?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`,
    genres: ["Supernatural", "Classic"],
    scareLevel: 3,
    triggerWarnings: ["Violence", "Racism", "Vampirism", "Gore"],
    duration: "130 minutes",
    episodeNumber: 0, 
    season: 0
  }
];

export const getEpisodeStructuredData = (episode) => {
  return {
    "@context": "https://schema.org",
    "@type": "PodcastEpisode",
    "name": episode.title,
    "description": episode.summary,
    "url": `https://horrorglassPodcast.com/episodes/${episode.slug}`,
    "image": `https://horrorglassPodcast.com${episode.image}`,
    "datePublished": episode.publishDate,
    "duration": episode.duration,
    "episodeNumber": episode.episodeNumber,
    "partOfSeries": {
      "@type": "PodcastSeries",
      "name": "Horror Glass Podcast",
      "url": "https://horrorglassPodcast.com"
    },
    "author": {
      "@type": "Person",
      "name": "Jose Zaragoza"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Horror Glass Podcast"
    },
    "genre": episode.genres,
    "keywords": episode.genres.join(", ") + ", horror podcast, " + episode.director
  };
};

export const sortEpisodes = (episodes, sortBy = 'date', order = 'desc') => {
  return [...episodes].sort((a, b) => {
    let comparison = 0;
    
    switch (sortBy) {
      case 'date':
        comparison = new Date(a.publishDate) - new Date(b.publishDate);
        break;
      case 'title':
        comparison = a.title.localeCompare(b.title);
        break;
      case 'episode':
        comparison = a.episodeNumber - b.episodeNumber;
        break;
      case 'scare':
        comparison = a.scareLevel - b.scareLevel;
        break;
      default:
        comparison = new Date(a.publishDate) - new Date(b.publishDate);
    }
    
    return order === 'desc' ? -comparison : comparison;
  });
};

export const filterEpisodes = (episodes, filters) => {
  return episodes.filter(episode => {
    if (filters.status && filters.status !== 'all') {
      if (filters.status === 'published' && !episode.isPublished) return false;
      if (filters.status === 'upcoming' && episode.isPublished) return false;
    }
    
    if (filters.genre && filters.genre !== 'all') {
      if (!episode.genres.some(genre => genre.toLowerCase().includes(filters.genre.toLowerCase()))) {
        return false;
      }
    }
    
    if (filters.search) {
      const searchTerm = filters.search.toLowerCase();
      return (
        episode.title.toLowerCase().includes(searchTerm) ||
        episode.summary.toLowerCase().includes(searchTerm) ||
        episode.guest.toLowerCase().includes(searchTerm) ||
        episode.director.toLowerCase().includes(searchTerm) ||
        episode.genres.some(genre => genre.toLowerCase().includes(searchTerm))
      );
    }
    
    return true;
  });
};

export const getAllGenres = () => {
  const allGenres = episodesData.flatMap(episode => episode.genres);
  return [...new Set(allGenres)].sort();
};
